const translations = {
    en: {
		"dialogue_000_000": "Welcome to our story, <strong>traveler</strong>. I am <strong>Pierre</strong>, the Soul of Perseverance.",
"dialogue_000_001": "And I'm <strong>Kaiser</strong>, the Soul of Kindness! We’re glad to have you here!",
"dialogue_000_002": "Don't judge us, we are nerveous too!",
"dialogue_000_003": "Stick around—we’ve got plenty of surprises waiting for you. <strong>Stay determined!</strong>",
		"teaser-text": "Watch our latest teaser",
        about: "ABOUT",
        faq: "FAQ / CONTACT",
        credits: "CREDITS",
        recommended: "Recommended after completing",
        news: "NEWS AND UPDATES",
        "post5-title": "ISSUE 5 - November 2024",
        "post4-title": "ISSUE 4 - October 2024",
        "post3-title": "ISSUE 3 - September 2024",
        "post2-title": "ISSUE 2 - August 2024",
        "post1-title": "ISSUE 1 - April 2024",
        post5: "New adventure awaits...",
        post4: "Back and forth",
        post3: "Once upon a time...",
        post2: "Home sweet home",
        post1p1: "UTTOR's first newsletter!!",
        post1p2: "So exciting! So new! So overwhelming!",
        post1p3: "So many exclamation marks!!!!!!!!!!!!!!!!!!!!",
        "credits-1": "UNDERTALE © 2015 / DELTARUNE © 2018 by Toby Fox",
        "credits-2": "Trails of Resilience 2024-2024 by idiommarres",
        "credits-3": "This game is not affiliated with Toby Fox.",
        "about-description": "is a fanmade <strong>prequel</strong> of <strong>UNDERTALE</strong> which tells a story of 4-th and 5-th fallen humans - Pierre, the <strong>perseverance</strong> soul, and Kaiser, the soul of <strong>kindness</strong>. Follow their journey through the Underground, meet familiar faces, and see how their actions shape the world!",
        "screenshot1-text": "Experience the untold story of the fourth and fifth fallen humans",
        "screenshot2-text": "Meet familiar characters and discover their past",
        "screenshot3-text": "Explore new locations and uncover hidden secrets",
        "screenshot4-text": "Make choices that will shape the Underground's future",
		"team-members": "TEAM MEMBERS",
        "former-members": "Former team members:",
        "credits-header": "CREDITS",
        "credits-datamine": "for datamined undertale data",
        "credits-assets": "for undertale and deltarune and game assets from it",
        "credits-inspiration-journal": "inspirations from journal system, quest system, geno abort route, easy/hard mode",
        "credits-inspiration-double": "inspiration for idea of double fallen humans, some inspirations from game mechanics",
        "credits-inspiration-fallen": "the whole idea of the fangame about other fallen souls",
        "credits-inspiration-create": "inspiration for the creation of this fangame",
        "credits-inspiration-mechanics": "inspiration for some game mechanics, HUD",
        "credits-inspiration-various": "inspirations for some game mechanics, subareas, HUD and etc",
        "credits-inspiration-sprites": "inspirations for sprites, especially ruins",
        "credits-font": "for the Determination font",
// FAQ Section Headers
        "faq-general": "General Questions",
        "faq-gameplay": "Gameplay and Features",
        "faq-technical": "Technical Support",

        // General Questions
        "faq-official": "Is Undertale: Trails of Resilience an official Undertale game?",
        "faq-official-answer": "No, UTTOR is a fan-made prequel inspired by Undertale. It expands on the lore and themes of the original game while offering new gameplay mechanics, storylines, and characters.",
        "faq-download": "Where can I download or play the game?",
        "faq-download-answer": "Currently, UTTOR is available for free on our official page.",
        "faq-complete": "Is UTTOR complete?",
        "faq-complete-answer": "No, the game is still in development. Progress updates will be shared regularly on our official pages. Stay tuned for new releases and additions!",
        "faq-platforms": "Will the game be released on consoles or mobile?",
        "faq-platforms-answer": "At the moment, UTTOR is available only for PC. Console or mobile ports may be considered in the future, but there are no plans currently.",
        "faq-free": "Is UTTOR free?",
        "faq-free-answer": "Yes, UTTOR is completely free as a fan-made project. However, donations to support development are appreciated!",

        // Gameplay Questions
        "faq-differences": "How does UTTOR differ from Undertale?",
        "faq-differences-answer": "UTTOR introduces new characters, expanded lore about the human-monster conflict, teamwork-based puzzles, and selective puzzle replacements. It focuses heavily on themes of perseverance and kindness, offering a fresh narrative experience.",
        "faq-routes": "Are there different routes like in Undertale?",
        "faq-routes-answer": "Yes! UTTOR includes multiple routes influenced by player decisions, emphasizing choices that align with kindness and perseverance. Each route affects character relationships and the story's outcome.",
        "faq-spells": "Can I use spells in UTTOR?",
        "faq-spells-answer": "Yes! A spell system allows for tactical options in combat and puzzles. Players can use unique abilities tied to the souls of Perseverance and Kindness.",
        "faq-easter-eggs": "Will there be Easter eggs or references to Undertale?",
        "faq-easter-eggs-answer": "Absolutely! Fans of Undertale will find numerous subtle nods, dialogue references, and gameplay mechanics inspired by the original game.",

        // Technical Questions
        "faq-launch": "My game won't launch! What should I do?",
        "faq-launch-answer": "First, check if your PC meets the game's minimum requirements. Ensure you've installed the latest version of the game. If issues persist, consult the troubleshooting guide on our official page or contact us.",
        "faq-save": "Where can I find my save data?",
        "faq-save-answer": "Windows: Open File Explorer, type %localappdata% into the navigation bar, and find the UTTOR folder. Mac: Save data is located in ~/Library/Application Support/UTTOR/.",
		
		"last-updated": "last updated November 20 2024",
        "contact-header": "Contact",
        "contact-description": "If you have questions that weren't in the FAQ, or you need to report a bug/issue, or otherwise need help with the game, you can email us.",
        "contact-disclaimer": "No guarantee we answer back, though.",
        "contact-requirements": "Be sure to include:",
        "contact-problem": "A description of the problem",
        "contact-problem-details": "what you encountered, and what happened before it happened. Screenshots/videos are always helpful if possible!",
        "contact-os": "Your operating system or platform",
        "contact-os-details": "(Windows 7/8/10/11, Linux Distro, etc)",
        "contact-email": "Oh, and be sure to send it to:",
		"event-location": "The place of events in the story!",
    "student-text": "Student at the Polytechnic University, working on game development as part of the UNDERTALE fangame project.",
    },
    ua: {
		 "dialogue_000_000": "Вітаємо в нашій історії, <strong>мандрівнику</strong>. Я – <strong>П’єр</strong>, Душа Наполегливості.",
"dialogue_000_001": "А я – <strong>Кайзер</strong>, Душа Доброти! Ми раді, що ти з нами!",
"dialogue_000_002": "Не засуджуйте нас, ми теж переживаєм.",
"dialogue_000_003": "Залишайся з нами – на тебе чекає безліч несподіванок. <strong>Не здавайся!</strong>",
		"teaser-text": "Подивіться наш останній тизер",
        about: "ПРО ГРУ",
        faq: "ЧАПИ / ЗВОРОТНІЙ ЗВ'ЯЗОК",
        credits: "АВТОРИ",
        recommended: "Рекомендовано після проходження",
        news: "НОВИНИ ТА ОНОВЛЕННЯ",
        "post5-title": "ВИПУСК 5 - Листопад 2024",
        "post4-title": "ВИПУСК 4 - Жовтень 2024",
        "post3-title": "ВИПУСК 3 - Вересень 2024",
        "post2-title": "ВИПУСК 2 - Серпень 2024",
        "post1-title": "ВИПУСК 1 - Квітень 2024",
        post5: "Нова пригода чекає...",
        post4: "Назад і вперед!",
        post3: "Колись, давним давно...",
        post2: "Дім, милий дім",
        post1p1: "Перше інформаційне видання UTTOR!!",
        post1p2: "Так захоплююче! Так по-новітньому! Таке приголомшливо!",
        post1p3: "Так багато знаків оклику!!!!!!!!!!!!!!!!!!!!",
        "credits-1": "UNDERTALE © 2015 / DELTARUNE © 2018 від Toby Fox",
        "credits-2": "Trails of Resilience 2024-2024 від idiommarres",
        "credits-3": "Ця гра не пов'язана з Toby Fox.",
        "about-description": "це фанатська <strong>передісторія</strong> гри <strong>UNDERTALE</strong>, яка розповідає історію П'єра, душі <strong>наполегливості</strong>, та Кайзера, душі <strong>доброти</strong>. Слідкуйте за їхньою подорожжю через Підземелля, зустрічайте знайомі обличчя та дізнайтеся, як їхні вчинки формують світ!",
        "screenshot1-text": "Досліджуйте передісторію головних персонажів!",
        "screenshot2-text": "Зустрічайте знайомих персонажів та відкривайте їхнє минуле",
        "screenshot3-text": "Досліджуйте нові локації та знаходьте приховані таємниці",
        "screenshot4-text": "Приймайте рішення, які вплинуть на майбутнє Підземелля",
		"team-members": "УЧАСНИКИ ПРОЄКТУ",
        "former-members": "Колишні учасники команди:",
        "credits-header": "ПОДЯКИ",
        "credits-datamine": "за видобуті дані undertale",
        "credits-assets": "за undertale, deltarune та ігрові ресурси з них",
        "credits-inspiration-journal": "натхнення із системи журналу, квестів, геноцидного маршруту, легкого/складного режиму",
        "credits-inspiration-double": "натхнення для ідеї подвійних падших людей, деякі натхнення з ігрової механіки",
        "credits-inspiration-fallen": "загальна ідея фанатської гри про інші падші душі",
        "credits-inspiration-create": "натхнення для створення цієї фанатської гри",
        "credits-inspiration-mechanics": "натхнення для деяких ігрових механік, HUD",
        "credits-inspiration-various": "натхнення для деяких ігрових механік, підлокацій, HUD тощо",
        "credits-inspiration-sprites": "натхнення для візуалу",
        "credits-font": "за шрифт Determination",
    // FAQ Section Headers
        "faq-general": "Загальні питання",
        "faq-gameplay": "Геймплей та особливості",
        "faq-technical": "Технічна підтримка",

        // General Questions
        "faq-official": "Чи є Undertale: Trails of Resilience офіційною грою Undertale?",
        "faq-official-answer": "Ні, UTTOR - це фанатська передісторія, натхненна Undertale. Вона розширює лор та теми оригінальної гри, пропонуючи нові ігрові механіки, сюжетні лінії та персонажів.",
        "faq-download": "Де можна завантажити або зіграти в гру?",
        "faq-download-answer": "Наразі UTTOR доступна безкоштовно на нашій офіційній сторінці.",
        "faq-complete": "Чи є UTTOR завершеною?",
        "faq-complete-answer": "Ні, гра все ще в розробці. Оновлення про прогрес регулярно публікуватимуться на наших офіційних сторінках. Слідкуйте за новими релізами та доповненнями!",
        "faq-platforms": "Чи вийде гра на консолях або мобільних пристроях?",
        "faq-platforms-answer": "На даний момент UTTOR доступна тільки для ПК. Порти для консолей або мобільних пристроїв можуть бути розглянуті в майбутньому, але зараз таких планів немає.",
        "faq-free": "Чи є UTTOR безкоштовною?",
        "faq-free-answer": "Так, UTTOR повністю безкоштовна як фанатський проект. Проте, пожертви на підтримку розробки вітаються!",

        // Gameplay Questions
        "faq-differences": "Чим UTTOR відрізняється від Undertale?",
        "faq-differences-answer": "UTTOR представляє нових персонажів, розширений лор про конфлікт людей і монстрів, головоломки, засновані на командній роботі, та вибіркові заміни головоломок. Гра сильно фокусується на темах наполегливості та доброти, пропонуючи свіжий наративний досвід.",
        "faq-routes": "Чи є різні шляхи проходження, як в Undertale?",
        "faq-routes-answer": "Так! UTTOR включає кілька шляхів, на які впливають рішення гравця, з акцентом на виборах, що відповідають доброті та наполегливості. Кожен шлях впливає на відносини з персонажами та результат історії.",
        "faq-spells": "Чи можна використовувати заклинання в UTTOR?",
        "faq-spells-answer": "Так! Система заклинань надає тактичні можливості в бою та головоломках. Гравці можуть використовувати унікальні здібності, пов'язані з душами Наполегливості та Доброти.",
        "faq-easter-eggs": "Чи будуть пасхалки або відсилання до Undertale?",
        "faq-easter-eggs-answer": "Звісно! Фанати Undertale знайдуть численні тонкі натяки, відсилання в діалогах та ігрові механіки, натхненні оригінальною грою.",

        // Technical Questions
        "faq-launch": "Моя гра не запускається! Що робити?",
        "faq-launch-answer": "Спочатку перевірте, чи відповідає ваш ПК мінімальним вимогам гри. Переконайтеся, що встановлено останню версію гри. Якщо проблеми не зникають, зверніться до посібника з усунення несправностей на нашій офіційній сторінці або зв'яжіться з нами.",
        "faq-save": "Де знаходяться мої збереження гри?",
        "faq-save-answer": "Windows: Відкрийте Провідник, введіть %localappdata% в рядок навігації та знайдіть папку UTTOR. Mac: Збереження знаходяться в ~/Library/Application Support/UTTOR/.",
		 
		 "last-updated": "оновлено 20 листопада 2024",
        "contact-header": "Контакти",
        "contact-description": "Якщо у вас є питання, яких немає в FAQ, або вам потрібно повідомити про помилку/проблему, або вам потрібна допомога з грою, ви можете написати нам на електронну пошту.",
        "contact-disclaimer": "Хоча ми не гарантуємо відповідь.",
        "contact-requirements": "Обов'язково вкажіть:",
        "contact-problem": "Опис проблеми",
        "contact-problem-details": "що ви зустріли і що сталося перед цим. Скріншоти/відео завжди корисні, якщо можливо!",
        "contact-os": "Вашу операційну систему або платформу",
        "contact-os-details": "(Windows 7/8/10/11, Linux Distro, тощо)",
        "contact-email": "І обов'язково надішліть на адресу:",
		"event-location": "Місце подій у сюжеті!",
    "student-text": "Студент НУЛП, дуже старався робити цей сайт!",
    },
};

const changeLanguage = (lang) => {
    // Save the selected language
    localStorage.setItem('selectedLanguage', lang);
    
    // Add the language as a URL parameter and reload the page
    const currentUrl = new URL(window.location.href);
    currentUrl.searchParams.set('lang', lang);
    window.location.href = currentUrl.toString();
};

// Handle initial language setup when page loads
document.addEventListener("DOMContentLoaded", () => {
    // First check URL parameters for language
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    
    // Then check localStorage, fallback to 'en' if neither exists
    const savedLanguage = urlLang || localStorage.getItem('selectedLanguage') || 'en';
    
    // Apply translations
    document.querySelectorAll(".lang").forEach((el) => {
        const key = el.getAttribute("data-key");
        if (translations[savedLanguage] && translations[savedLanguage][key]) {
            el.innerHTML = translations[savedLanguage][key];
        } else {
            el.innerHTML = key; // Fallback in case translation is missing
        }
    });

    // Highlight the selected language button
    document.querySelectorAll('.flag').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById(`lang-${savedLanguage}`).classList.add('active');
});

// Event listeners for language buttons
document.getElementById("lang-en").addEventListener("click", () => changeLanguage("en"));
document.getElementById("lang-ua").addEventListener("click", () => changeLanguage("ua"));
